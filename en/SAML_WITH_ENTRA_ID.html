
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://aws-samples.github.io/generative-ai-use-cases/en/SAML_WITH_ENTRA_ID.html">
      
      
        <link rel="prev" href="SAML_WITH_GOOGLE_WORKSPACE.html">
      
      
        <link rel="next" href="EXTENSION.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Authenticate with Microsoft Entra ID - Generative AI Use Cases (GenU)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/custom/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Authenticate with Microsoft Entra ID - Generative AI Use Cases (GenU)" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://aws-samples.github.io/generative-ai-use-cases/assets/images/social/en/SAML_WITH_ENTRA_ID.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://aws-samples.github.io/generative-ai-use-cases/en/SAML_WITH_ENTRA_ID.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Authenticate with Microsoft Entra ID - Generative AI Use Cases (GenU)" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://aws-samples.github.io/generative-ai-use-cases/assets/images/social/en/SAML_WITH_ENTRA_ID.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#microsoft-entra-id-and-saml-integration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Generative AI Use Cases (GenU)" class="md-header__button md-logo" aria-label="Generative AI Use Cases (GenU)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Generative AI Use Cases (GenU)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Authenticate with Microsoft Entra ID
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="SAML_WITH_ENTRA_ID.html" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../ja/SAML_WITH_ENTRA_ID.html" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws-samples/generative-ai-use-cases" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/generative-ai-use-cases
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="ABOUT.html" class="md-tabs__link">
          
  
  
    
  
  Getting started

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Generative AI Use Cases (GenU)" class="md-nav__button md-logo" aria-label="Generative AI Use Cases (GenU)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Generative AI Use Cases (GenU)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws-samples/generative-ai-use-cases" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/generative-ai-use-cases
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ABOUT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DEPLOY_ON_CLOUDSHELL.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    (Optional) Deploy with AWS CloudShell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DEPLOY_OPTION.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Authentication
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SAML_WITH_GOOGLE_WORKSPACE.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authenticate with Google Workspace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="SAML_WITH_ENTRA_ID.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Authenticate with Microsoft Entra ID
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Browser Extension
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Browser Extension
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EXTENSION.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EXTENSION_BUILD.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EXTENSION_INSTALL.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EXTENSION_SAML.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SAML Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UPDATE.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Update
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DEVELOPMENT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="DESTROY.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Delete Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PWA.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use as a Native App
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/aws-samples/generative-ai-use-cases/blob/main/docs/en/SAML_WITH_ENTRA_ID.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/aws-samples/generative-ai-use-cases/raw/main/docs/en/SAML_WITH_ENTRA_ID.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="microsoft-entra-id-and-saml-integration">Microsoft Entra ID and SAML Integration<a class="headerlink" href="#microsoft-entra-id-and-saml-integration" title="Permanent link">&para;</a></h1>
<p>This guide introduces the reference procedure for integrating Microsoft Entra ID (formerly Azure Active Directory) with SAML. Please modify the detailed parameters to match your environment.</p>
<h1 id="preliminary-work">Preliminary Work<a class="headerlink" href="#preliminary-work" title="Permanent link">&para;</a></h1>
<p>First, deploy GenU. After the initial deployment, you will set up SAML integration between Cognito and Entra ID.</p>
<p>Open the Outputs tab on the CloudFormation Stack screen and note the WebUrl.</p>
<p><img alt="image-20240205185011526" src="../assets/SAML_WITH_ENTRA_ID/image-20240205185011526.png" /></p>
<p>Next, from the Resource tab, note the Physical ID of the Cognito user pool.</p>
<p><img alt="image-20240128114108630" src="../assets/SAML_WITH_ENTRA_ID/image-20240128114108630.png" /></p>
<h1 id="cognito-configuration-domain-setup">Cognito Configuration: Domain Setup<a class="headerlink" href="#cognito-configuration-domain-setup" title="Permanent link">&para;</a></h1>
<p>Proceed with the Cognito domain configuration.
On the Cognito user pool screen, open the App integration tab and display the Domain screen. Since the Cognito Domain is blank, select Create Cognito domain from Actions.</p>
<p><img alt="image-20240128115029927" src="../assets/SAML_WITH_ENTRA_ID/image-20240128115029927.png" /></p>
<p>Assign an appropriate name and press Create Cognito domain. In this procedure, we will use <code>your-preferred-name</code>. You need to use a globally unique name.</p>
<p><img alt="image-20240128115448597" src="../assets/SAML_WITH_ENTRA_ID/image-20240128115448597.png" /></p>
<p>The Cognito domain has been configured.</p>
<p><img alt="image-20240128115539920" src="../assets/SAML_WITH_ENTRA_ID/image-20240128115539920-1707114112930.png" /></p>
<h1 id="microsoft-entra-id-configuration">Microsoft Entra ID Configuration<a class="headerlink" href="#microsoft-entra-id-configuration" title="Permanent link">&para;</a></h1>
<p>Enable SAML integration in Microsoft Entra ID (formerly Azure Active Directory).</p>
<p>Open the Microsoft Entra ID configuration screen from Microsoft Azure.</p>
<p><img alt="image-20240128121313366" src="../assets/SAML_WITH_ENTRA_ID/image-20240128121313366.png" /></p>
<p>Select Enterprise Applications.</p>
<p><img alt="image-20240128121505749" src="../assets/SAML_WITH_ENTRA_ID/image-20240128121505749.png" /></p>
<p>Select New application.</p>
<p><img alt="image-20240128121555503" src="../assets/SAML_WITH_ENTRA_ID/image-20240128121555503.png" /></p>
<p>Select Create your own application.</p>
<p><img alt="image-20240128121629558" src="../assets/SAML_WITH_ENTRA_ID/image-20240128121629558-1707115633384.png" /></p>
<p>Enter any application name and press Create. In this example, we are using <code>generative-ai-use-cases</code>.</p>
<p><img alt="image-20240128121916888" src="../assets/SAML_WITH_ENTRA_ID/image-20240128121916888.png" /></p>
<p>From the Single sign-on menu, select SAML.</p>
<p><img alt="image-20240128122006365" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122006365.png" /></p>
<p>Press Edit in Basic SAML Configuration.</p>
<p><img alt="image-20240128122115335" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122115335.png" /></p>
<p>Enter the following parameters and press save. Use the Cognito user pool ID confirmed in <a href="#preliminary-work">Preliminary Work</a> and the Domain value confirmed in <a href="#cognito-configuration-domain-setup">Cognito Configuration: Domain Setup</a>.</p>
<p>Identifier (Entity ID)</p>
<pre><code># Format
urn:amazon:cognito:sp:&lt;UserPoolID&gt;

# Example
urn:amazon:cognito:sp:ap-northeast-1_p0oD4M3F0
</code></pre>
<p>Reply URL (Assertion Consumer Service URL)</p>
<pre><code># Format
https://&lt;your-entered-value&gt;.auth.yourRegion.amazoncognito.com/saml2/idpresponse

# Example
https://your-preferred-name.auth.ap-northeast-1.amazoncognito.com/saml2/idpresponse
</code></pre>
<p>Specify the values and press Save.</p>
<p><img alt="image-20240128122339147" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122339147.png" /></p>
<p>The settings have been applied.</p>
<p><img alt="image-20240128122454341" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122454341.png" /></p>
<p>Select Download under Federation Metadata XML to obtain the XML file.</p>
<p><img alt="image-20240128122534056" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122534056.png" /></p>
<p>Add users or groups to be associated with this application. Only users and groups linked here will be able to log in.</p>
<p><img alt="image-20240128122707248" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122707248.png" /></p>
<p>In this example, we specify a user that was created in advance. Please specify according to your environment.</p>
<p><img alt="image-20240128122807048" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122807048.png" /></p>
<p>Press Assign.</p>
<p><img alt="image-20240128122832158" src="../assets/SAML_WITH_ENTRA_ID/image-20240128122832158.png" /></p>
<h1 id="cognito-configuration-federation">Cognito Configuration: Federation<a class="headerlink" href="#cognito-configuration-federation" title="Permanent link">&para;</a></h1>
<p>Return to the Cognito configuration in the AWS Management Console.
Open the Cognito User Pool screen, and from the Sign-in experience tab, select Add identity provider.</p>
<p><img alt="image-20240128124451746" src="../assets/SAML_WITH_ENTRA_ID/image-20240128124451746.png" /></p>
<p>Select SAML as we are using SAML for integration with Entra ID.</p>
<p><img alt="image-20240128124529523" src="../assets/SAML_WITH_ENTRA_ID/image-20240128124529523.png" /></p>
<p>Enter an easily identifiable name in the Provider name field. The Provider name specified here will be included in cdk.json in a later step.
Select Choose file and upload the "Federation Metadata XML" downloaded from Entra ID.</p>
<p><img alt="image-20240128124624371" src="../assets/SAML_WITH_ENTRA_ID/image-20240128124624371.png" /></p>
<p>Specify email for User pool attribute.
For SAML attribute, select the following string and then select Add identity provider.</p>
<pre><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress
</code></pre>
<p><img alt="image-20240128124827012" src="../assets/SAML_WITH_ENTRA_ID/image-20240128124827012.png" /></p>
<p>The configuration has been added.</p>
<p><img alt="image-20240128125053814" src="../assets/SAML_WITH_ENTRA_ID/image-20240128125053814.png" /></p>
<h1 id="cognito-configuration-hosted-ui">Cognito Configuration: Hosted UI<a class="headerlink" href="#cognito-configuration-hosted-ui" title="Permanent link">&para;</a></h1>
<p>Now we'll configure the Hosted UI to use the Entra ID integration. Select the App Integration tab.</p>
<p><img alt="image-20240128125211108" src="../assets/SAML_WITH_ENTRA_ID/image-20240128125211108.png" /></p>
<p>Specify the existing App Client.</p>
<p><img alt="image-20240128125243769" src="../assets/SAML_WITH_ENTRA_ID/image-20240128125243769.png" /></p>
<p>Press Edit.</p>
<p><img alt="image-20240128125314475" src="../assets/SAML_WITH_ENTRA_ID/image-20240128125314475.png" /></p>
<p>Enter the WebUrl value confirmed in <a href="#preliminary-work">Preliminary Work</a> into both Allowed callback URLs and Allowed sign-out URLs.
If you want to use a <a href="DEVELOPMENT.html">local development environment</a> for frontend development, also add <code>http://localhost:5173</code> to both Allowed callback URLs and Allowed sign-out URLs.</p>
<p><img alt="image-20240205185602299" src="../assets/SAML_WITH_ENTRA_ID/image-20240205185602299.png" /></p>
<p>Select EntraID for Identity Provider. Also, since we want to stop authentication using the Cognito user pool, uncheck the Cognito user pool checkbox.</p>
<p><img alt="image-20240207123836497" src="../assets/SAML_WITH_ENTRA_ID/image-20240207123836497.png" /></p>
<p>Press Save changes.</p>
<p><img alt="image-20240128132707060" src="../assets/SAML_WITH_ENTRA_ID/image-20240128132707060.png" /></p>
<p>The configuration has been added.</p>
<p><img alt="image-20240128132652553" src="../assets/SAML_WITH_ENTRA_ID/image-20240128132652553.png" /></p>
<h1 id="editing-cdkjson">Editing cdk.json<a class="headerlink" href="#editing-cdkjson" title="Permanent link">&para;</a></h1>
<p>Now that the configuration is complete, modify the values in cdk.json.</p>
<ul>
<li>samlAuthEnabled: Specify <code>true</code>. This switches to a SAML-specific authentication screen, and the conventional authentication function using Cognito user pools will no longer be available.</li>
<li>samlCognitoDomainName: Enter the Cognito Domain name specified in <a href="#cognito-configuration-domain-setup">"Cognito Configuration: Domain Setup"</a>.</li>
<li>samlCognitoFederatedIdentityProviderName: Enter the Identity Provider name configured in <a href="#cognito-configuration-federation">"Cognito Configuration: Federation"</a>.</li>
</ul>
<pre><code class="language-json">  &quot;context&quot;: {
　　 &lt;omitted&gt;
    &quot;samlAuthEnabled&quot;: true,
    &quot;samlCognitoDomainName&quot;: &quot;your-preferred-name.auth.ap-northeast-1.amazoncognito.com&quot;,
    &quot;samlCognitoFederatedIdentityProviderName&quot;: &quot;EntraID&quot;,
</code></pre>
<p>After configuration, deploy again to enable SAML integration.</p>
<hr />
<h1 id="optional-saml-idp-group-custom-attribute-configuration">(Optional) SAML IdP Group Custom Attribute Configuration<a class="headerlink" href="#optional-saml-idp-group-custom-attribute-configuration" title="Permanent link">&para;</a></h1>
<p>This section introduces how to map Roles or Groups managed in SAML IdP to Cognito Attributes for RAG filtering.</p>
<p>First, in the Entra ID Enterprise Application screen, select Edit in Attributes &amp; Claims to edit.</p>
<p><img alt="image-20250109000000001" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000001.png" /></p>
<p>Add a Group Claim from Add a group claim. Select the scope of groups to share with the application according to your requirements. (Details can be found <a href="https://learn.microsoft.com/en-us/entra/identity/hybrid/connect/how-to-connect-fed-group-claims">here</a>)</p>
<p><img alt="image-20250109000000002" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000002.png" /></p>
<p>Next, on the Cognito User Pool screen, open the Custom attributes addition screen from Sign-up.</p>
<p><img alt="image-20250109000000003" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000003.png" /></p>
<p>Create a Custom Attribute with an appropriate name. In this example, we are using <code>idpGroup</code>.</p>
<p><img alt="image-20250109000000004" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000004.png" /></p>
<p>Next, open the Attribute mapping screen in the Social Identity Provider screen.</p>
<p><img alt="image-20250109000000005" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000005.png" /></p>
<p>Map the Custom Attribute name created earlier with the Entra ID Group Claim <code>http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code>.</p>
<p><img alt="image-20250109000000006" src="../assets/SAML_WITH_ENTRA_ID/image-20250109000000006.png" /></p>
<p>This completes the mapping of Groups defined in Entra ID to Cognito Attributes.</p>
<p>Since Custom Attributes are included in the ID token, they can now be used by the application.</p>
<p>To use it for Knowledge Base RAG filtering, uncomment <code>Example2</code> in the <code>getDynamicFilters</code> function in <code>packages/common/src/custom/rag-knowledge-base.ts</code>.</p>
<pre><code class="language-typescript">// Example 2: Filter by SAML IdP group custom attribute (Check steps to setup attribute mapping in docs/SAML_WITH_ENTRA_ID.md)

const groups = (idTokenPayload['custom:idpGroup'] as string) // storing group as string (i.e. [group1id, group2id])
  .slice(1, -1) // remove the first and last brackets
  .split(/, ?/) // split by comma and optional space
  .filter(Boolean); // remove empty strings
if (!groups) throw new Error('custom:idpGroup is not set'); // Error if Group is not set, preventing access
const groupFilter: RetrievalFilter = {
  in: {
    key: 'group',
    value: groups,
  },
};
dynamicFilters.push(groupFilter);
</code></pre>
<p>Filtering will be applied when the document's group metadata specifies the Object ID of the user's IdP group.</p>
<p>Similarly, other metadata can also be utilized using Cognito Custom Attributes and Attribute Mapping.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="SAML_WITH_GOOGLE_WORKSPACE.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Authenticate with Google Workspace">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Authenticate with Google Workspace
              </div>
            </div>
          </a>
        
        
          
          <a href="EXTENSION.html" class="md-footer__link md-footer__link--next" aria-label="Next: Overview">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Overview
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2025, Amazon Web Services, Inc. or its affiliates. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.trackings", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>